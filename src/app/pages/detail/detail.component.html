<div class="tw-flex tw-items-center tw-justify-center tw-mt-[160px]">
   <div class="tw-basis-[73%] tw-items-center tw-justify-center">
    <div class="tw-mb-6">
        <h1 class="tw-text-2xl tw-font-thin tw-leading-normal tw-text-black">Chi tiết sản phẩm</h1>
    </div>
     <div class="tw-flex tw-gap-[40px]">
      <div class="tw-grid tw-gap-4 tw-w-[51%]">
          <div class="tw-max-h-[300px] tw-overflow-hidden tw-flex tw-items-center ">
              <img 
              [src]='getImgByNameImg(product.avt)'
              class="tw-h-auto tw-max-w-full tw-rounded-lg" src="" alt="">
          </div>
          <div class="tw-grid tw-grid-cols-5 tw-gap-4">
              <div class="tw-max-h-[110px] tw-overflow-hidden tw-flex tw-items-center tw-justify-center tw-rounded-lg" *ngFor="let img of product.imgDes">
                  <img class="tw-h-auto tw-max-w-full tw-object-cover tw-rounded-lg"
                  [src]='getImgByNameImg(img)'
                  alt="">
              </div>
              
          </div>
      </div>
      <div>
        <div>
            <span class="tw-text-5xl tw-font-bold tw-text-center tw-text-black tw-leading-none">{{product.name}}</span>
        </div>

        <div class="tw-flex tw-gap-[13px]">
            <div [ngStyle]="{
                overflow: 'hidden',
                'width.px': (product.discount_amount * 100) / 5
              }">
                <div class="tw-w-[100px] tw-flex tw-gap-[5.31px]">
                    <svg xmlns="http://www.w3.org/2000/svg" width="19" height="17" viewBox="0 0 19 17" fill="none">
                        <path d="M9.24494 0.255005L11.8641 5.89491L18.0374 6.6431L13.4829 10.8769L14.679 16.9793L9.24494 13.956L3.8109 16.9793L5.00697 10.8769L0.452479 6.6431L6.62573 5.89491L9.24494 0.255005Z" fill="#FFC633"/>
                     </svg>
                     <svg xmlns="http://www.w3.org/2000/svg" width="19" height="17" viewBox="0 0 19 17" fill="none">
                        <path d="M9.24494 0.255005L11.8641 5.89491L18.0374 6.6431L13.4829 10.8769L14.679 16.9793L9.24494 13.956L3.8109 16.9793L5.00697 10.8769L0.452479 6.6431L6.62573 5.89491L9.24494 0.255005Z" fill="#FFC633"/>
                     </svg>
                     <svg xmlns="http://www.w3.org/2000/svg" width="19" height="17" viewBox="0 0 19 17" fill="none">
                        <path d="M9.24494 0.255005L11.8641 5.89491L18.0374 6.6431L13.4829 10.8769L14.679 16.9793L9.24494 13.956L3.8109 16.9793L5.00697 10.8769L0.452479 6.6431L6.62573 5.89491L9.24494 0.255005Z" fill="#FFC633"/>
                     </svg>
                     <svg xmlns="http://www.w3.org/2000/svg" width="19" height="17" viewBox="0 0 19 17" fill="none">
                        <path d="M9.24494 0.255005L11.8641 5.89491L18.0374 6.6431L13.4829 10.8769L14.679 16.9793L9.24494 13.956L3.8109 16.9793L5.00697 10.8769L0.452479 6.6431L6.62573 5.89491L9.24494 0.255005Z" fill="#FFC633"/>
                     </svg>
                     <svg xmlns="http://www.w3.org/2000/svg" width="19" height="17" viewBox="0 0 19 17" fill="none">
                        <path d="M9.24494 0.255005L11.8641 5.89491L18.0374 6.6431L13.4829 10.8769L14.679 16.9793L9.24494 13.956L3.8109 16.9793L5.00697 10.8769L0.452479 6.6431L6.62573 5.89491L9.24494 0.255005Z" fill="#FFC633"/>
                     </svg>
                </div>
            </div>
            <div class="tw-flex tw-items-center">
                <span class="tw-block tw-text-black tw-text-sm tw-font-normal">{{
                    product.discount_amount
                  }}</span>
                <span class="tw-block">/</span>
                <span class="tw-block tw-text-color-text-feedback tw-text-sm tw-font-normal">5</span>
            </div>
        </div>

        <div class="tw-flex tw-items-center tw-justify-start tw-gap-[10px]">
          <div>
            <span class="tw-text-black tw-text-[24px] tw-font-[700]"
              >${{ product.price }}</span
            >
          </div>
          <div *ngIf="product.price_old; else elseBlock" class="tw-flex tw-items-center tw-justify-center tw-gap-[10px]"> 
            <div>
              <span
              class="tw-text-color-text-feedback tw-text-[24px] tw-font-[700] tw-line-through"
              >
              ${{ product.price_old }}
            </span>
            </div>
            <div
            class="tw-flex tw-w-[58px] tw-py-[6px] tw-px-[42px] tw-items-center tw-justify-center tw-rounded-[62px] tw-bg-color-bg-sales"
            >
              <span
                class="tw-text-color-text-sales tw-block tw-text-xs tw-font-medium tw-leading-normal"
                >{{getPerentProduct(product.price_old,product.price) }}%</span
              >
            </div>
          </div>
          <ng-template #elseBlock></ng-template>
        </div>



        <div class="tw-mt-2">
            <label for="">Chọn Màu</label>
           <div class="tw-flex tw-gap-3 tw-mt-2 ">
            <div *ngFor="let id of product.color_id;index as i" [ngStyle]="{
                'overflow': 'hidden',
                'background-color': getNameColorById(id),
                'width': '37px',
                'height': '37px',
                'border-radius': '50%',
                'display': 'flex',
                'justify-content': 'center',
                'align-items': 'center',
                'cursor': 'pointer'
              }"
                (click)="handleChageColor(id)"
                id="rootColor-{{id}}"
                class="rootColors"
              >
                {{getStyleColor(id,i)}}
            </div>
           </div>
        </div>
        <div class="tw-mt-2">
          <label for="">Chọn Size</label>
         <div class="tw-flex tw-gap-3 tw-mt-2 ">
          <div  *ngFor="let id of product.size_id;index as i" 
            [ngStyle]="getStyleSize(i,id)"
            (click)="handleChageSize(id)"
            >
                  <span class="tw-capitalize">{{getNameSizeById(id)}}</span>
              </div>
              
         </div>
         
        <ng-template #elseBlockSize></ng-template>

      </div>
      

        <div class="tw-flex tw-gap-10 tw-mt-6">
          <div class="card flex justify-content-center">
            <p-inputNumber [min]="1" [(ngModel)]="quantity" [style]="{'width': '145px'}" [showButtons]="true" buttonLayout="horizontal" spinnerMode="horizontal" inputId="horizontal" decrementButtonClass="p-button-secondary"
                incrementButtonClass="p-button-secondary" incrementButtonIcon="pi pi-plus" decrementButtonIcon="pi pi-minus" [inputStyle]="{'width': '60px'}">
              </p-inputNumber>
          </div>
            <button (click)="handleAddCart()" class="tw-w-[220px] tw-h-[52px] tw-rounded-[62px] tw-text-center tw-px-[54px] tw-py-[16px] tw-text-white tw-bg-black">Add to cart</button>
        </div>

      </div>
     </div>
     <div class="card tw-mt-8">
        <p-tabView>
            <p-tabPanel header="Description">
                <p>
                   {{ product.des}}
                </p>
            </p-tabPanel>
            <p-tabPanel header="Review">
                <p>
                    Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo. Nemo enim
                    ipsam voluptatem quia voluptas sit aspernatur aut odit aut fugit, sed quia consequuntur magni dolores eos qui ratione voluptatem sequi nesciunt. Consectetur, adipisci velit, sed quia non numquam eius modi.
                </p>
            </p-tabPanel>
        </p-tabView>
    </div>

    <div>
        <h1 class="tw-text-5xl tw-font-bold tw-leading-normal tw-text-center tw-text-black">You might also like</h1>
    </div>
    <div class="tw-flex tw-items-center tw-justify-center">
        <div class="tw-basis-[100%] tw-flex tw-flex-wrap tw-mt-[51px] tw-gap-4 tw-justify-start tw-items-center">
            <div
          *ngFor="let product of productsLikes; index as i"
          class="flex tw-flex-col tw-gap-2"
        >
          <div
            class="tw-w-[295px] tw-cursor-pointer tw-shadow-primary tw-h-[298px] tw-flex tw-items-center tw-justify-center tw-rounded-[20px] tw-bg-color-item-bg tw-px-0 tw-py-3 hover:tw--translate-y-1 hover:tw-shadow-primary tw-mb-5 tw-transition tw-duration-150 tw-ease-out tw-overflow-hidden"
            [routerLink]="'products/product-detail/' + product._id"
          >
            <img
              class="tw-w-[90%] tw-h-auto tw-object-cover"
              [src]='getImgByNameImg(product.avt)'
              alt=""
            />
          </div>
          <span
            class="tw-mt-2 tw-block tw-text-black tw-text-xl tw-font-bold tw-capitalize"
            >{{ product.name }}</span
          >
          <div class="tw-flex tw-gap-[13px]">
            <div
              [ngStyle]="{
                overflow: 'hidden',
                'width.px': (product.discount_amount * 100) / 5
              }"
            >
              <div class="tw-w-[100px] tw-flex tw-gap-[5.31px]">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="19"
                  height="17"
                  viewBox="0 0 19 17"
                  fill="none"
                >
                  <path
                    d="M9.24494 0.255005L11.8641 5.89491L18.0374 6.6431L13.4829 10.8769L14.679 16.9793L9.24494 13.956L3.8109 16.9793L5.00697 10.8769L0.452479 6.6431L6.62573 5.89491L9.24494 0.255005Z"
                    fill="#FFC633"
                  />
                </svg>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="19"
                  height="17"
                  viewBox="0 0 19 17"
                  fill="none"
                >
                  <path
                    d="M9.24494 0.255005L11.8641 5.89491L18.0374 6.6431L13.4829 10.8769L14.679 16.9793L9.24494 13.956L3.8109 16.9793L5.00697 10.8769L0.452479 6.6431L6.62573 5.89491L9.24494 0.255005Z"
                    fill="#FFC633"
                  />
                </svg>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="19"
                  height="17"
                  viewBox="0 0 19 17"
                  fill="none"
                >
                  <path
                    d="M9.24494 0.255005L11.8641 5.89491L18.0374 6.6431L13.4829 10.8769L14.679 16.9793L9.24494 13.956L3.8109 16.9793L5.00697 10.8769L0.452479 6.6431L6.62573 5.89491L9.24494 0.255005Z"
                    fill="#FFC633"
                  />
                </svg>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="19"
                  height="17"
                  viewBox="0 0 19 17"
                  fill="none"
                >
                  <path
                    d="M9.24494 0.255005L11.8641 5.89491L18.0374 6.6431L13.4829 10.8769L14.679 16.9793L9.24494 13.956L3.8109 16.9793L5.00697 10.8769L0.452479 6.6431L6.62573 5.89491L9.24494 0.255005Z"
                    fill="#FFC633"
                  />
                </svg>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="19"
                  height="17"
                  viewBox="0 0 19 17"
                  fill="none"
                >
                  <path
                    d="M9.24494 0.255005L11.8641 5.89491L18.0374 6.6431L13.4829 10.8769L14.679 16.9793L9.24494 13.956L3.8109 16.9793L5.00697 10.8769L0.452479 6.6431L6.62573 5.89491L9.24494 0.255005Z"
                    fill="#FFC633"
                  />
                </svg>
              </div>
            </div>
            <div class="tw-flex tw-items-center">
              <span class="tw-block tw-text-black tw-text-sm tw-font-normal">{{
                product.discount_amount
              }}</span>
              <span class="tw-block">/</span>
              <span
                class="tw-block tw-text-color-text-feedback tw-text-sm tw-font-normal"
                >5</span
              >
            </div>
          </div>
          <div class="tw-flex tw-items-center tw-justify-start tw-gap-[10px]">
            <div>
              <span class="tw-text-black tw-text-[24px] tw-font-[700]"
                >${{ product.price }}</span
              >
            </div>
            <div>
              <span
                *ngIf="product.price_old; else elseBlock"
                class="tw-text-color-text-feedback tw-text-[24px] tw-font-[700] tw-line-through"
                >${{ product.price_old }}
              </span>
              <ng-template #elseBlock></ng-template>
            </div>
            <div
              *ngIf="product.price_old; else elseBlock1"
              class="tw-flex tw-w-[58px] tw-py-[6px] tw-px-[42px] tw-items-center tw-justify-center tw-rounded-[62px] tw-bg-color-bg-sales"
            >
              <span
                class="tw-text-color-text-sales tw-block tw-text-xs tw-font-medium tw-leading-normal"
                >{{ product.price_old }}%</span
              >
            </div>
            <ng-template #elseBlock1></ng-template>
          </div>
        </div>

        </div>
      </div>
    </div>
  </div>
<div class="card">
  <p-toast></p-toast>
</div>